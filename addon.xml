<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<addon id="plugin.audio.tidal2" name="TIDAL2" version="2.0.0-beta22" provider-name="arneson">
  <requires>
    <import addon="xbmc.python" version="2.14.0"/>
    <import addon="script.module.requests"/>
    <import addon="script.module.routing"/>
    <import addon="script.module.unidecode"/>
    <import addon="script.module.m3u8"/>
  </requires>
  <extension point="xbmc.python.pluginsource" library="addon.py">
    <provides>audio</provides>
  </extension>
  <extension point="xbmc.python.module" library="resources/lib"/>
  <extension point="xbmc.service" library="service.py" start="login"/>
  <extension point="xbmc.addon.metadata">
    <summary lang="en">Extended version of the TIDAL music add-on</summary>
    <summary lang="de">Erweiterte Version des TIDAL Music-Addons</summary>
    <description lang="en">Play music and video from TIDAL music streaming service.

Requires subscription. Visit tidal.com for details.</description>
    <description lang="de">Spielt Music und Videos vom Streaming-Dienst TIDAL.

Es wird ein Abbonement benötigt. Siehe tidal.com für Details.</description>
    <disclaimer lang="en">This is an unofficial client and is not supported nor endorsed by TIDAL.</disclaimer>
    <disclaimer lang="de">Dies ist eine inoffizieller Client, der von TIDAL nicht unterstützt wird.</disclaimer>
    <license>GNU GENERAL PUBLIC LICENSE. Version 3, 29 June 2007</license>
    <platform>all</platform>
    <forum>http://forum.xbmc.org/showthread.php?tid=200555</forum>
    <source>https://github.com/arnesongit/plugin.audio.tidal2</source>
    <news>
v2.0.0-beta22 (2021-03-17)
- Removed unusable login tokens
- Removed RTMP music playback and HTTP video playback
- Modified the login process to use up to three login session simultanously
  (for browsing, music playback and video playback)
- A Bug in Kodi causes a crash if the player tries to resolve the next playback URL 
  while playing the current track. And the parameter "succeeded=False" semms not to work properly.
  Example:
     xbmcplugin.setResolvedUrl(plugin.handle, succeeded=False, li)
  Some tracks in TIDAL are not marked correctly as "unplayable" and a HTTP error occurs
  if the Addon wants to retrieve the playback URL.
  Workaround: The Addon plays a short "unplayable.m4a" file from the addon resources folder
  which contains 1.5 seconds of silence.
- First modifications to move to Python3:
  - Removed internal m3u8 library
  - Now using script.module.m3u8 addon as dependency
  - Addon script.module.iso8601 is installed automatically
    </news>
    <assets>
      <icon>resources/icon.png</icon>
      <fanart>resources/fanart.jpg</fanart>
      <screenshot>resources/screenshot000.jpg</screenshot>
      <screenshot>resources/screenshot001.jpg</screenshot>
      <screenshot>resources/screenshot002.jpg</screenshot>
      <screenshot>resources/screenshot003.jpg</screenshot>
      <screenshot>resources/screenshot004.jpg</screenshot>
      <screenshot>resources/screenshot005.jpg</screenshot>
    </assets>
  </extension>
</addon>
